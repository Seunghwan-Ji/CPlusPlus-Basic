### **`inline` 함수란?**

`inline` 함수는 함수 호출의 오버헤드를 줄이기 위해, 호출되는 곳에 해당 함수의 코드가 **직접 삽입되는 방식**으로 컴파일되는 함수입니다.  
즉, 일반적인 함수 호출과 달리 **함수를 호출하지 않고, 호출 코드가 컴파일 시 함수의 구현 코드로 대체**됩니다.

---

### **`inline` 함수의 특징**
1. **함수 호출 오버헤드 제거:**
   - 일반 함수 호출은 함수 진입 및 반환 시 스택 프레임을 생성하고 해제하는 과정이 필요합니다.
   - `inline` 함수는 이 과정을 제거하고, 컴파일 시 함수 본문 코드를 그대로 삽입합니다.
   - 결과적으로 작은 함수일수록 성능이 향상될 가능성이 큽니다.

2. **코드의 중복 삽입 가능:**
   - 함수 본문이 호출 위치마다 복사되므로, 함수가 자주 호출되거나 내용이 길다면 **코드 크기(바이너리 크기)**가 증가할 수 있습니다.

3. **컴파일러의 선택:**
   - `inline` 키워드를 명시하더라도, **컴파일러가 반드시 함수 코드를 삽입하는 것은 아닙니다**.
   - 함수가 너무 크거나, 재귀 호출을 포함하는 경우 컴파일러가 `inline`을 무시할 수 있습니다.

4. **디버깅 어려움:**
   - 코드가 여러 위치에 삽입되므로 디버깅 시 원래 함수 위치를 찾기 어렵습니다.

---

### **`inline` 함수의 선언 방법**

```cpp
inline int Add(int a, int b) {
    return a + b;
}
```

- 함수 앞에 inline 키워드를 붙이면 됩니다.
- 보통 간단하고 짧은 코드를 가진 함수에 사용합니다.

### **`inline` 함수의 장단점**

| **장점**                              | **단점**                                                                 |
|---------------------------------------|--------------------------------------------------------------------------|
| 함수 호출 오버헤드를 줄여 성능 향상     | 함수가 호출되는 위치마다 코드가 복사되어 바이너리 크기 증가 (Code Bloat) |
| 짧고 자주 호출되는 함수에 적합          | 너무 큰 함수에 사용하면 성능 저하 및 컴파일러가 무시할 가능성           |
| 매크로 함수의 대안으로 사용 가능        | 디버깅 시 어려움                                                        |

---

### **`inline` 함수와 매크로 비교**

`inline` 함수는 함수처럼 동작하지만, 성능 향상 측면에서 매크로와 비슷한 역할을 합니다. 그러나 매크로보다 더 안전하고 유연합니다.

#### **매크로의 단점**
```cpp
#define SQUARE(x) ((x) * (x))

int result = SQUARE(1 + 2); // ((1 + 2) * (1 + 2)) = 9 (예상치 못한 결과)
```

### **`inline` 함수로 대체
```cpp
inline int Square(int x) {
    return x * x;
}

int result = Square(1 + 2); // (1 + 2) * (1 + 2) = 9 (예상한 결과)
```

- 매크로는 단순히 텍스트 치환 방식이므로 예기치 않은 결과를 초래할 수 있지만, **`inline` 함수는 타입 안정성과 코드 안정성을 제공합니다.

### 언제 **`inline`을 사용할까?
- 자주 호출되며, 코드가 짧고 간단한 함수에 사용.
- 함수 호출 오버헤드가 성능에 영향을 미칠 때.
- 매크로를 대체하여 타입 안정성과 디버깅 용이성을 확보하고자 할 때.

### 주의할 점
- 큰 함수나 재귀 함수에는 적합하지 않습니다.
- 코드 크기가 증가할 위험이 있으므로 남발하지 않습니다.
- 최신 컴파일러는 최적화 수준에서 자동으로 **`inline` 처리 여부를 결정하므로, 꼭 필요한 경우에만 사용해야 합니다.





